# Курсовая по курсу MySQL от Geekbrains

#### Зависимости:
- MySQL 5.7

#### Описание:
Целью курсовой работы является разработка базы данных для экономической онлайн игры Bit Economika.
Вселенная Bit Economika построена (или стремится быть построенной) на реальной экономической модели окружающего мира.
В ней присутствуют основные сущности экономики:
- люди, покупающие товары, 
- предприятия, производящие товары, а также осуществляющие их реализацию,  
- товары, которые необходимы людям для жизни и процветания
- профессии пользователей, для работы на предприятии,
- различные типы предприятий с различными производственными цепочками товаров
- различные регионы, в которых можно разместить предприятие и в которых живут люди
Это все управляется пользователем, который выступает в роли владельца бизнеса и владеет предприятиями, а также товарами на складах предприятия.
Для реализации вышеперечисленных задач была создана база данных, обеспечивающая данный функционал.
Пользователи представлены в таблице users, которая хранит данные для входа, баланс пользователя, который складывается из суммы всех операций в таблице users_balance. Пользователь может быть админом (тогда для него откроются супервозможности) или обычным пользователем, а также может быть помечен удаленным из системы.
Таблица предприятий enterprise объединяет все предприятия, которые могут принадлежать пользователям. У предприятия может быть свой тип и регион (о них позже), а также такие важные параметры как размер склада и максимальное число сотрудников.
Типы предприятий хранятся в таблицах manufactory_sub_type и manufactory_type . Таблицы были разделены для объединения подтипов в типы и их удобного вывода.
таблица manufactory_product_needed показывает сколько и какого типа товара нужно для того или иного производства
Таблица продуктов products хранит информацию обо всех произведенных продуктах. Она привязывается к предприятию, имеет свою цену и уничтожается после покупки людьми.
Типы продуктов хранятся в таблице product_type и кроме всего прочего так же показывают какой размер склада занимает 1 единица продукции.
Люди представлены таблицей peoples. Они могут умереть если значение уменьшающих жизненный цикл превышает максимальное значение жизненного цикла. Значение, уменьшающее жизненный цикл увеличивается понемногу ежедневно, что соответствует нашим реалиям. Так же это значение может сильно вырасти если, например, человек не смог купить еды. Подобные потребности представлены в таблице people_needs. Специализация людей хранится в таблице people_specification. Каждая запись соответствует повышению квалификации человека. Она может быть увеличена после прохождения курсов или после некоторого времени работы на предприятии.
Люди, работающие на предприятии, хранятся в таблице enterprise_workers. Там так же указывается зарплата сотрудника, которая может быть изменена игроком.
Заработок и траты соответственно хранятся в таблицах peouple_purchases и people_earnings. Данные таблицы так же учитываются при получении отчета предприятия о тратах и доходах.
Регионы в базе делятся на страны и города и связаны друг с другом.

Для минимального ознакомления с базой данных в приложенных материалах Вы можете найти следующие функции:
- представление active_products, которое выводит информацию обо всех продуктах вместе с информацией о занимаемом месте на складе каждой единицы,
- представление users_balances, которое выводит баланс пользователя на основе записей в таблице users_balance,
- запрос на получение всех предприятий пользователя пользователя
- запрос на получение выручки предприятий за 2005 год
- триггер на увеличение баланса сущности users, если в таблицу users_balance были записаны значения
- триггер на убийство человека если сумма уменьшающих жизнь факторов больше жизненного цикла человека,
- интерфейс, показывающий производственную цепочку для выбранного типа производства
- процедура, выводящая максимальное количество продукции, которое может произвести предприятие за день

#### Структура:
1. Курсач DDL.sql - DDL структура базы данных
2. ERDiagram.mwb - Диаграмма структуры базы данных
3. fulldb-20-01-2021-19-06-beta.sql - Дамп содержимого базы данных (для тестов)
4. Скрипты.sql - Файл, хранящий стрикты базы данных - представления, агрегированные запросы и пр.